extends Node2D

@onready var soldier = preload("res://mobs/soldier.tscn")
signal soldiers(soldiers: Array[Node2D])
var ipsum = "voluptate enim ex labore minim dolor cillum est cupidatat dolore deserunt irure qui duis ipsum laborum voluptate occaecat laborum cillum dolor tempor occaecat magna do voluptate in aute quis aliqua veniam eu irure cupidatat aute et ea voluptate aute aute id magna occaecat id nostrud exercitation culpa esse reprehenderit aute nostrud elit cillum est ea aliquip ex exercitation occaecat ipsum consectetur aute dolor magna veniam irure commodo cillum consequat non occaecat est aliquip officia voluptate ullamco Lorem exercitation sit sint do id eu exercitation pariatur irure cupidatat ipsum laboris nulla incididunt officia anim anim aliquip sit mollit veniam irure exercitation quis id exercitation irure enim elit veniam id est anim occaecat Lorem cupidatat aliquip incididunt esse aliquip nostrud ipsum eiusmod officia aliquip ex excepteur excepteur pariatur ipsum quis consequat fugiat mollit esse culpa minim eu consequat ullamco nisi exercitation officia qui minim nisi duis dolore commodo magna laboris id voluptate ad nisi consectetur minim proident incididunt enim qui ut laboris qui est non consequat cillum aute et irure do consequat ex velit eu minim elit pariatur in eu deserunt anim occaecat dolor nostrud anim incididunt veniam excepteur incididunt adipisicing velit amet incididunt deserunt duis ipsum officia ullamco fugiat ad commodo fugiat sit ex exercitation Lorem qui eu incididunt nostrud consectetur minim nostrud officia id commodo ullamco amet ea laborum tempor tempor cupidatat labore veniam enim laborum quis est laborum anim labore aliqua esse anim velit ut incididunt laborum nisi do in officia nostrud aute ullamco tempor duis pariatur eu adipisicing irure dolore sit aute sit sit sint ea ullamco ad aliquip anim Lorem non elit laboris officia nulla magna tempor mollit dolor anim fugiat commodo id ad ex non elit Lorem officia officia do ad in amet qui cupidatat ad voluptate amet culpa culpa Lorem anim sunt amet proident duis esse aliquip cupidatat proident nostrud anim est aliqua magna ipsum ut ut ullamco aute culpa fugiat minim nostrud duis amet veniam laboris eiusmod id dolor deserunt dolore voluptate veniam elit officia fugiat duis ex sunt laborum tempor culpa veniam elit mollit anim ut consectetur id in deserunt dolor mollit mollit qui anim sit quis excepteur qui minim aliquip ex est officia amet sint sint officia dolor minim ullamco aute commodo enim sit laborum id mollit dolore minim magna anim dolore consequat dolor ipsum occaecat occaecat minim incididunt cupidatat ullamco dolore in adipisicing ipsum eu officia eiusmod voluptate labore non aliquip cillum excepteur incididunt consequat aliqua sunt nisi nulla quis est aute elit amet excepteur consequat amet enim fugiat dolore consectetur exercitation magna minim duis ut et aliqua minim veniam labore id adipisicing exercitation deserunt eu reprehenderit voluptate est deserunt do tempor est minim nulla aliqua ut incididunt ipsum irure in veniam do exercitation pariatur cillum commodo incididunt cupidatat nostrud id irure aliqua enim ullamco occaecat consectetur culpa magna incididunt occaecat laboris ut qui culpa eiusmod eiusmod pariatur irure in reprehenderit ullamco ipsum tempor do esse et elit non velit veniam adipisicing irure dolore aliqua quis nisi ad occaecat est mollit fugiat sunt aliqua deserunt sint deserunt exercitation irure cillum ad cupidatat excepteur in ipsum nisi qui officia laborum qui do sunt quis irure nostrud sunt dolore aliqua sunt sit enim aliqua nulla consectetur ex sunt sint minim laborum id proident aliquip ex officia officia commodo laborum ut ea commodo incididunt occaecat dolor ut et et id ullamco sint dolore Lorem consectetur id aute qui voluptate excepteur cupidatat amet proident pariatur et nisi amet reprehenderit in pariatur ea eu ipsum dolore quis id et mollit ullamco voluptate irure velit ex do eiusmod occaecat incididunt reprehenderit ullamco magna aute fugiat sunt nostrud exercitation reprehenderit cillum in consequat ad enim consequat exercitation occaecat elit voluptate sit et culpa nostrud deserunt elit id anim do est adipisicing reprehenderit magna dolore do ut commodo sit quis mollit enim sit occaecat enim ea dolore exercitation et eiusmod ut ipsum in cupidatat incididunt tempor ex aliquip minim laborum sint ad duis dolore sit magna veniam velit quis culpa culpa ea ut laborum nulla eu dolor ullamco enim commodo ea incididunt irure proident tempor nulla deserunt pariatur cupidatat aute minim irure consectetur fugiat do veniam incididunt mollit sunt consequat do excepteur reprehenderit et ullamco ut aliquip amet esse eu ad nisi velit ut sunt sunt sint tempor ex et nisi aute do ipsum voluptate nisi do excepteur reprehenderit nisi excepteur eiusmod laboris cillum eu consequat consequat dolore sit sunt tempor cupidatat culpa irure enim laboris anim labore aute nostrud qui commodo irure ullamco fugiat officia irure adipisicing sunt consequat nulla velit reprehenderit ea Lorem minim nulla aute labore nulla exercitation qui elit magna irure elit ipsum tempor deserunt ut laborum ex ea id consequat reprehenderit id velit irure tempor ipsum deserunt fugiat et esse esse labore pariatur elit ullamco fugiat elit elit sint cupidatat aute occaecat voluptate officia ullamco sint fugiat eu irure elit proident proident exercitation ex fugiat adipisicing minim elit sunt culpa non labore et minim sint nisi est non dolor eu labore irure incididunt amet tempor laboris culpa nostrud commodo est consectetur ullamco tempor proident minim ea nostrud pariatur cillum eiusmod Lorem sunt ex dolore nulla nulla laboris ad qui occaecat adipisicing in reprehenderit enim cillum exercitation ipsum sint non dolore occaecat quis cupidatat incididunt non aliqua excepteur Lorem elit elit mollit dolore cillum elit et ex ad ullamco officia voluptate Lorem elit ex incididunt incididunt non ad nisi exercitation est cillum dolor eiusmod minim et reprehenderit id deserunt sit esse ut aute aliquip et officia aliquip non ut magna do ea amet excepteur ut nisi commodo do duis duis eu fugiat id dolore irure esse adipisicing laboris labore deserunt in ut magna voluptate occaecat pariatur elit cupidatat minim enim ut cupidatat nisi quis adipisicing id laboris sint fugiat id exercitation ut sunt veniam ex mollit non sunt culpa anim sit cillum consectetur et proident aute labore fugiat irure magna excepteur pariatur qui mollit non veniam occaecat pariatur et tempor laboris irure sit laborum tempor eiusmod aute id exercitation do minim velit anim et nulla".split(" ")
var rng = RandomNumberGenerator.new()

func _on_timer_timeout():
	var soldier_instance = soldier.instantiate()
	soldier_instance.initialize(ipsum[rng.randi_range(0, len(ipsum))])
	$Path2D.add_child(soldier_instance)
	soldiers.emit($Path2D.get_children())
	
func _input(event):
	if event is InputEventKey and event.pressed and event.echo == false:
		$Path2D.get_children()[0].shoot_letter(event.as_text_keycode())
		

